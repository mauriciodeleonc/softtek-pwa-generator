(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){"use strict";a.r(t),a.d(t,"auth",(function(){return c})),a.d(t,"db",(function(){return s}));var n=a(42),r=(a(74),a(86),n.a.initializeApp({apiKey:"AIzaSyB3LgUOwBxVZp8GJHu1e3i_PtxPT2fQo-E",authDomain:"softtek-pwa.firebaseapp.com",projectId:"softtek-pwa",storageBucket:"softtek-pwa.appspot.com",messagingSenderId:"251294119375",appId:"1:251294119375:web:eac0c511f1938253644eba"}));n.a.firestore().enablePersistence();var c=r.auth(),s=r.firestore();t.default=r},72:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(39),s=a.n(c),i=(a(72),a(15)),o=a(67),l=a(16),d=a(7),j=a.n(d),u=a(13),b=a(10),h=a(11),m=a(42),x=a(0),p=r.a.createContext();function O(){return Object(n.useContext)(p)}function f(e){var t=e.children,a=Object(n.useState)(),r=Object(b.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!0),o=Object(b.a)(i,2),l=o[0],d=o[1];function O(){return(O=Object(u.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.auth.createUserWithEmailAndPassword(t,a);case 3:return n=e.sent,r={id:n.user.uid,isUser:!0,mail:n.user.email,name:null,phoneNumber:null},e.next=7,h.db.collection("users").doc(r.id).get().exists;case 7:if(e.sent.exists){e.next=14;break}return e.next=11,h.db.collection("users").doc(r.id).set(Object.assign({},r));case 11:return e.next=13,h.db.collection("carts").doc().set({noProducts:0,restaurantes:[],total:0,userId:r.id,waitingTime:0});case 13:return e.abrupt("return",e.sent);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function f(){return(f=Object(u.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new m.a.auth.GoogleAuthProvider,e.next=4,h.auth.signInWithPopup(t);case 4:return a=e.sent,n={id:a.user.uid,isUser:!0,mail:a.user.email,name:a.user.displayName,phoneNumber:a.user.phoneNumber?a.user.phoneNumber:null},e.next=8,h.db.collection("users").doc(n.id).get();case 8:if(e.sent.exists){e.next=15;break}return e.next=12,h.db.collection("users").doc(n.id).set(Object.assign({},n));case 12:return e.next=14,h.db.collection("carts").doc().set({noProducts:0,restaurantes:[],total:0,userId:n.id,waitingTime:0});case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}Object(n.useEffect)((function(){return h.auth.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var g={currentUser:c,signup:function(e,t){return O.apply(this,arguments)},login:function(e,t){return h.auth.signInWithEmailAndPassword(e,t)},loginWithGoogle:function(){return f.apply(this,arguments)},logout:function(){return h.auth.signOut()}};return Object(x.jsx)(p.Provider,{value:g,children:!l&&t})}function g(e){var t=e.component,a=Object(o.a)(e,["component"]),n=O().currentUser;return Object(x.jsx)(l.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return n?Object(x.jsx)(t,Object(i.a)({},e)):Object(x.jsx)(l.a,{to:"/login"})}}))}var v=a(14),k=a(88),y=a(89),N=a(90),w=a(19),P=a(20),S=a(26),L=a(22),C=a(21),M=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleValue=n.handleValue.bind(Object(S.a)(n)),n}return Object(P.a)(a,[{key:"handleValue",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.handleValue&&this.props.handleValue(t)}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"input-wrapper ".concat(this.props.className?this.props.className:"mt-2 mb-3"," ").concat(this.props.size?this.props.size:"block"," "),children:[Object(x.jsx)("input",{type:this.props.type,className:"input",value:this.state.value,onChange:this.handleValue,ref:this.props.innerRef}),Object(x.jsx)("div",{className:"input-placeholder non-bold ".concat(this.state.value.length>0&&"focused"),children:this.props.label})]})}}]),a}(n.Component),I=r.a.forwardRef((function(e,t){return Object(x.jsx)(M,Object(i.a)({innerRef:t},e))})),T=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleValue=n.handleValue.bind(Object(S.a)(n)),n}return Object(P.a)(a,[{key:"handleValue",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.handleValue&&this.props.handleValue(t)}},{key:"render",value:function(){return Object(x.jsx)("button",{type:this.props.type?this.props.type:"button",className:"button ".concat(this.props.block&&"block"," ").concat("primary"===this.props.variant?"primary":"secondary"," ").concat(this.props.className&&this.props.className),disabled:this.props.disabled,onClick:this.props.onClick,children:Object(x.jsx)("p",{className:"text-smaller mb-0",children:Object(x.jsx)("b",{children:this.props.label})})})}}]),a}(n.Component),E=a.p+"static/media/google-logo.fecc06c5.png";function W(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=O(),c=r.signup,s=r.loginWithGoogle,i=Object(n.useState)(""),o=Object(b.a)(i,2),d=o[0],h=o[1],m=Object(n.useState)(!1),p=Object(b.a)(m,2),f=p[0],g=p[1],w=Object(n.useState)(!1),P=Object(b.a)(w,2),S=P[0],L=P[1],C=Object(l.g)();function M(){return(M=Object(u.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",h("Las contrase\xf1as deben ser iguales"));case 3:return n.prev=3,h(""),g(!0),n.next=8,c(e.current.value,t.current.value);case 8:C.push("/"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0),h("Ya existe una cuenta con este correo");case 15:g(!1);case 16:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}function W(){return(W=Object(u.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,s(e.current.value,t.current.value);case 3:C.push("/");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(x.jsxs)(k.a,{className:"vertical-center full-height",children:[Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:5,className:"text-center",children:[Object(x.jsx)("h1",{children:"Plaza Real Order To Go"}),Object(x.jsx)("h2",{children:"Crear cuenta"})]})}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:3,children:[d?Object(x.jsx)("p",{children:d}):"",Object(x.jsxs)("form",{onSubmit:function(e){return M.apply(this,arguments)},children:[Object(x.jsx)(I,{type:"email",label:"Correo",ref:e}),Object(x.jsx)(I,{type:"password",label:"Contrase\xf1a",ref:t}),Object(x.jsx)(I,{type:"password",label:"Confirmar contrase\xf1a",ref:a}),Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",className:"mr-2 my-3",onChange:function(){return L(!S)}}),"He le\xeddo y acepto los ",Object(x.jsx)(v.b,{to:"terminos-y-condiciones",children:"t\xe9rminos y condiciones."})," "]}),Object(x.jsx)(T,{type:"submit",disabled:f||!S,label:"Registrarme",variant:"primary"})]}),Object(x.jsx)("p",{className:"text-smallest text-center my-3",children:"o"}),Object(x.jsxs)("button",{onClick:function(e){return W.apply(this,arguments)},className:"google-button",children:[Object(x.jsx)("img",{src:E,loading:"lazy",height:"20px"}),Object(x.jsx)("p",{className:"text-smaller",children:"Registrate con google"})]})]})}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:3,className:"text-center",children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{className:"text-smallest",children:["\xbfYa tienes cuenta? ",Object(x.jsx)(v.b,{to:"/login",children:" Inicia sesi\xf3n"})]})]})})]})}function A(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=O(),r=a.login,c=a.loginWithGoogle,s=Object(n.useState)(""),i=Object(b.a)(s,2),o=i[0],d=i[1],h=Object(n.useState)(!1),m=Object(b.a)(h,2),p=m[0],f=m[1],g=Object(l.g)();function w(){return(w=Object(u.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,d(""),f(!0),a.next=6,r(e.current.value,t.current.value);case 6:g.push("/"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0),d("Error iniciando sesion");case 13:f(!1);case 14:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,c(e.current.value,t.current.value);case 3:g.push("/");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(x.jsxs)(k.a,{className:"vertical-center full-height",children:[Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:5,className:"text-center",children:[Object(x.jsx)("h1",{children:"Plaza Real Order To Go"}),Object(x.jsx)("h2",{children:"Iniciar sesi\xf3n"})]})}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:3,children:[o&&Object(x.jsx)("p",{children:o}),Object(x.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(x.jsx)(I,{type:"email",label:"Correo",ref:e}),Object(x.jsx)(I,{type:"password",label:"Contrase\xf1a",ref:t}),Object(x.jsx)(T,{type:"submit",disabled:p,label:"Iniciar sesi\xf3n",variant:"primary"})]}),Object(x.jsx)("p",{className:"text-smallest text-center my-3",children:"o"}),Object(x.jsxs)("button",{onClick:function(e){return P.apply(this,arguments)},className:"google-button",children:[Object(x.jsx)("img",{src:E,loading:"lazy",height:"20px"}),Object(x.jsx)("p",{className:"text-smaller",children:"Inicia sesi\xf3n con google"})]})]})}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:12,md:3,className:"text-center",children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{className:"text-smallest",children:["\xbfA\xfan no tienes cuenta? ",Object(x.jsx)(v.b,{to:"/signup",children:"Registrate"})]})]})})]})}var z=a(35),B=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Add to Shopping Cart"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M55.7 33.3L58 22M6.1 22L12 52h19.2M26 2L8.1 22M38 2l18 20M2 22h60",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("circle",{"data-name":"layer1",cx:"46",cy:"46",r:"16",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M46 38v16m-8-8h16",strokeLinejoin:"round",strokeLinecap:"round"})]})},R=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Arrow Left"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M14 31.998h36",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M28 18L14 32l14 14",strokeLinejoin:"round",strokeLinecap:"round"})]})},U=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Bank Cards"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",d:"M10.3 29l-2.2-6.1a2.4 2.4 0 0 1 1.4-3.1L50.1 5.1a2.4 2.4 0 0 1 3.1 1.4l8.7 24a2.4 2.4 0 0 1-1.4 3.1L50 37.4m-39.9-9.2L55 11.8m-8.3 9.8l4.5-1.6",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("rect",{"data-name":"layer1",x:"2",y:"29",width:"48",height:"30",rx:"2.4",ry:"2.4",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M10 43h14m12-6h6M10 51h2m8 0h2m8 0h2m8 0h2",strokeLinejoin:"round",strokeLinecap:"round"})]})},V=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Car"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",d:"M44 28l-5.5-10a3.7 3.7 0 0 0-3.1-2H11.3c-1 0-2 1-2.6 2S2.8 29 2.8 29",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("path",{"data-name":"layer2",d:"M56 42h6V31a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v11h6m12 0h24",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("circle",{"data-name":"layer1",cx:"14",cy:"42",r:"6",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("circle",{"data-name":"layer1",cx:"50",cy:"42",r:"6",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})},D=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Time"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("circle",{"data-name":"layer2",cx:"32",cy:"32",r:"30",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M32 10v23l13 7",strokeLinejoin:"round"})]})},F=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Money"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer1",d:"M2 49.5V16.2S6 12 18 12s15.2 6 28 6a63.4 63.4 0 0 0 16-2.5v34S57.6 52 48 52s-17.2-6-28-6a44.8 44.8 0 0 0-18 3.5z",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer2",d:"M41.9 31.6c1 5.5-2.7 10-8.1 10s-10.6-4.5-11.6-10 2.7-10 8.1-10S41 26 41.9 31.6z",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",d:"M11.9 12.4A10 10 0 0 1 2 24m0 14a10 10 0 0 1 9.9 8.7M62 26a10 10 0 0 1-9.9-8.4m.1 34.2A10.1 10.1 0 0 1 52 50a10 10 0 0 1 10-10",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"})]})},q=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Invoice"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M19 20h16M19 36h16m-16-8h12M19 44h12m12-24h2m-2 16h2m-2-8h2m-2 16h2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M23 2zm12 0zm11.9 0zM53 8l-6.1-6L41 6l-6-4-6 4-6-4-6 4-6-4v54l6.1 6 5.9-4 6 4 6-4 6 4 6-4 6 4V8zM41 62zm-12 0zm-11.9 0z",strokeLinejoin:"round",strokeLinecap:"round"})]})},H=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Calls"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer1",d:"M58.9 47l-10.4-6.8a4.8 4.8 0 0 0-6.5 1.3c-2.4 2.9-5.3 7.7-16.2-3.2S19.6 24.4 22.5 22a4.8 4.8 0 0 0 1.3-6.5L17 5.1c-.9-1.3-2.1-3.4-4.9-3S2 6.6 2 15.6s7.1 20 16.8 29.7S39.5 62 48.4 62s13.2-8 13.5-10-1.7-4.1-3-5z",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"})]})},X=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Question"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer2",d:"M22 21.41c0-3.6 2.758-9.41 10.587-9.41C40.417 12 42 19.035 42 21.41s-.738 5.116-5.07 9.448C32.595 35.19 32 37.44 32 39.5V42",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("circle",{"data-name":"layer1",cx:"32",cy:"49",r:"3",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"})]})},$=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Dinner"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("circle",{"data-name":"layer2",cx:"32.7",cy:"33",r:"19",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("circle",{"data-name":"layer2",cx:"32.7",cy:"33",r:"11",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("path",{"data-name":"layer1",d:"M61.7 34.2V48a2 2 0 0 1-2 2 2 2 0 0 1-2-2V34.1M6.7 12v9.5",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("path",{"data-name":"layer1",d:"M61.7 34.2V12a6.3 6.3 0 0 0-6.3 6.3V31a3.2 3.2 0 0 0 3.2 3.2zm-50.5-9.5L10.5 12H2.9l-.6 12.7a3.5 3.5 0 0 0 2.4 3.5V48a2 2 0 1 0 4 0V28.1a3.5 3.5 0 0 0 2.5-3.4z",fill:"none",stroke:"#202020",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})},G=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Shopping Basket"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M6.1 27L12 57h40l6-30",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer2",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M26 7L8.1 27M38 7l18 20",strokeLinejoin:"round",strokeLinecap:"round"}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M2 27h60",strokeLinejoin:"round",strokeLinecap:"round"})]})},K=function(e){return Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Angle Down"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{"data-name":"layer1",fill:"none",stroke:"#202020",strokeMiterlimit:"10",strokeWidth:"2",d:"M20 26l11.994 14L44 26",strokeLinejoin:"round",strokeLinecap:"round"})]})},Y=function(e){return Object(x.jsxs)("svg",{viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"title","aria-describedby":"desc",role:"img",xmlnsXlink:"http://www.w3.org/1999/xlink",className:e.className,children:[Object(x.jsx)("title",{children:"Export"}),Object(x.jsx)("desc",{children:"A line styled icon from Orion Icon Library."}),Object(x.jsx)("path",{d:"M34 22V6H2v52h32V42",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",stroke:"var(--error)",fill:"none","data-name":"layer2",strokeLinejoin:"round"}),Object(x.jsx)("path",{d:"M14 32h47M48 43l13-11-13-11",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",stroke:"var(--error)",fill:"none","data-name":"layer1",strokeLinejoin:"round"})]})},J=function(e){var t=Object(l.g)();return Object(x.jsx)(x.Fragment,{children:e.restaurants.map((function(e,a){return Object(x.jsxs)("div",{children:[Object(x.jsxs)(y.a,{onClick:function(){return function(e){var a=e.name.replace(/\s/g,"");t.push({pathname:"/restaurant/".concat(a),state:{detail:e}})}(e)},children:[Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("img",{src:e.img,className:"list-img",loading:"lazy"})}),Object(x.jsxs)(N.a,{children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{children:e.name})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("p",{className:"text-smaller",children:[Object(x.jsx)(D,{className:"icon"})," ",e.openingTime," - ",e.closingTime]})})}),Object(x.jsxs)(y.a,{className:"no-gutters",children:[e.cash&&Object(x.jsx)(N.a,{xs:"auto",className:"pr-1",children:Object(x.jsx)("div",{className:"cash-pill",children:Object(x.jsxs)("p",{className:"text-smallest m-0",children:[Object(x.jsx)(F,{className:"icon"})," Efectivo"]})})}),e.card&&Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("div",{className:"card-pill",children:Object(x.jsxs)("p",{className:"text-smallest m-0",children:[Object(x.jsx)(U,{className:"icon"})," Tarjeta"]})})})]})]})]}),Object(x.jsx)("hr",{})]},a)}))})},Q=a.p+"static/media/search.715c7df9.svg",_=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){return Object(w.a)(this,a),t.call(this,e)}return Object(P.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"searchbar",children:[Object(x.jsx)("input",{type:"text",value:this.props.value,onChange:this.props.onChange,placeholder:this.props.placeholder}),Object(x.jsx)("img",{src:Q,loading:"lazy"})]})}}]),a}(n.Component),Z=a(92),ee=a(94),te=a(93),ae=function(e){return Object(x.jsxs)(Z.a,Object(i.a)(Object(i.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsxs)(Z.a.Body,{children:[Object(x.jsx)("h4",{children:"Cerrar sesi\xf3n"}),Object(x.jsx)("p",{className:"non-bold",children:"\xbfSeguro que deseas cerrar sesi\xf3n?"})]}),Object(x.jsxs)(Z.a.Footer,{children:[Object(x.jsx)(T,{onClick:e.onHide,label:"Cancelar"}),Object(x.jsx)(T,{variant:"primary",onClick:e.logout,label:"Cerrar sesi\xf3n"})]})]}))},ne=function(e){var t,a,r,c=O().logout,s=Object(n.useState)(!1),i=Object(b.a)(s,2),o=i[0],l=i[1];return Object(x.jsxs)(ee.a,{children:[Object(x.jsx)(k.a,{className:"px-2 justify-content-center justify-content-md-start",children:Object(x.jsxs)(te.a,{children:[Object(x.jsx)(te.a.Item,{children:Object(x.jsxs)(te.a.Link,{eventKey:"restaurantes",as:v.b,to:"/",active:"/"===(null===(t=e.location)||void 0===t?void 0:t.pathname),children:[Object(x.jsx)($,{className:"icon"})," Restaurantes"]})}),Object(x.jsx)(te.a.Item,{children:Object(x.jsxs)(te.a.Link,{eventKey:"ordenes",as:v.b,to:"/ordenes",active:"/ordenes"===(null===(a=e.location)||void 0===a?void 0:a.pathname),children:[Object(x.jsx)(q,{className:"icon"})," \xd3rdenes"]})}),Object(x.jsx)(te.a.Item,{children:Object(x.jsxs)(te.a.Link,{eventKey:"ayuda",as:v.b,to:"/ayuda",active:"/ayuda"===(null===(r=e.location)||void 0===r?void 0:r.pathname),children:[Object(x.jsx)(X,{className:"icon"})," Ayuda"]})}),Object(x.jsx)(te.a.Item,{className:"ml-auto",children:Object(x.jsxs)(te.a.Link,{eventKey:"sesion",onClick:function(){return l(!0)},children:[Object(x.jsx)(Y,{className:"icon ml-2"})," Salir"]})})]})}),Object(x.jsx)(ae,{show:o,onHide:function(){return l(!1)},logout:c})]})},re=r.a.createContext();function ce(e){var t=e.children,a=Object(n.useState)(),r=Object(b.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!0),o=Object(b.a)(i,2),l=o[0],d=o[1],m=O().currentUser;function p(e){var t=0;return e.products.forEach((function(e){t+=e.cantidad*e.costoUnitario})),t}function f(e){var t=0;return e.restaurantes.forEach((function(e){t+=e.waitingTime})),t}function g(e){return e.products.reduce((function(e,t){return e+t.tiempoEntrega}),0)/e.products.length||0}function v(){return(v=Object(u.a)(j.a.mark((function e(t,a,n){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.restaurantes.find((function(e){return e.restaurantId===a.id})),void 0!=(s=r?r.products.find((function(e){return e.id===t.id})):void 0)?k(t.id,a.name,n,s.costoUnitario,s.tiempoEntregaUnitario):r?(r.products.push({cantidad:n,comentario:"",costoTotal:n*t.price,costoUnitario:t.price,descripcion:t.description,id:t.id,nombre:t.name,tiempoEntrega:t.estimatedTime,tiempoEntregaUnitario:t.estimatedTime}),r.total+=Number(t.price),r.waitingTime=g(r),c.noProducts+=n,c.total=c.total+n*Number(t.price)):(c.restaurantes.push({paymentType:a.paymentTypes,products:[{cantidad:n,comentario:"",costoTotal:n*t.price,costoUnitario:t.price,descripcion:t.description,id:t.id,nombre:t.name,tiempoEntrega:t.estimatedTime,tiempoEntregaUnitario:t.estimatedTime}],restaurantId:a.id,restaurantName:a.name,total:n*t.price,waitingTime:t.estimatedTime}),c.noProducts+=n,c.total=c.total+n*t.price),c.waitingTime=f(c),e.next=6,h.db.collection("carts").doc(c.cartId).update(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,a,n,r){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(j.a.mark((function e(t,a,n,r,s){var i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.restaurantes.find((function(e){return e.restaurantName===a})),(o=i.products.find((function(e){return e.id===t}))).cantidad=n,o.costoTotal+=Number(r),o.tiempoEntrega+=Number(s),i.total=p(i),i.waitingTime=g(i),c.noProducts++,c.total=c.total+Number(r),c.waitingTime=f(c),e.next=12,h.db.collection("carts").doc(c.cartId).update(c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(j.a.mark((function e(t,a,n,r,s){var i,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.restaurantes.find((function(e){return e.restaurantName===a})),n<=0?(1===(o=i.products).length?c.restaurantes=c.restaurantes.filter((function(e){return e.restaurantName!=a})):c.restaurantes.find((function(e){return e.restaurantName===a})).products=o.filter((function(e){return e.id!==t})),i.total=p(i)):((l=i.products.find((function(e){return e.id===t}))).cantidad=n,l.costoTotal-=Number(r),l.tiempoEntrega-=Number(s),i.total=p(i),i.waitingTime=g(i)),c.noProducts--,c.total-=r,c.waitingTime=f(c),e.next=7,h.db.collection("carts").doc(c.cartId).update(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.db.collection("carts").where("userId","==",m.uid).get();case 2:return e.sent.forEach((function(e){(t=e.data()).cartId=e.id})),s(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(j.a.mark((function e(t,a,n,r,s){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return(i=e.sent).restaurantes.forEach(function(){var e=Object(u.a)(j.a.mark((function e(i){var o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.db.collection("orders").add({cashAmount:null,creationDate:new Date,customerPhone:n.current.value,id:null,name:r.current.value,onWay:"En camino"===t,parkingPlace:"En camino"===t?t:a.current.value,paymentType:s,products:i.products,restaurantId:i.restaurantId,statusId:1,storeName:i.restaurantName,total:i.total,userId:c.userId,waitingTime:i.waitingTime});case 2:return o=e.sent,l=o.id,e.next=6,h.db.collection("orders").doc(l).update({id:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.noProducts=0,i.restaurantes=[],i.total=0,i.waitingTime=0,e.next=10,h.db.collection("carts").doc(i.cartId).update(i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){if(!m)return s({}),void d(!1);h.db.collection("carts").where("userId","==",m.uid).get().then((function(e){e.forEach((function(e){var t=e.data();t.cartId=e.id,s(t),d(!1)}))}))}),[m]);var L={cart:c,getCart:w,addProduct:function(e,t,a){return v.apply(this,arguments)},incrementProduct:k,decrementProduct:function(e,t,a,n,r){return N.apply(this,arguments)},getTotalItems:function(){var e=0;return c.restaurantes.forEach((function(t){t.products.forEach((function(t){return e++}))})),e},createOrder:function(e,t,a,n,r){return S.apply(this,arguments)}};return Object(x.jsx)(re.Provider,{value:L,children:!l&&t})}var se=a(11).db,ie=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={restaurants:[],filteredRestaurants:[],searchInput:"",addedItems:0},n}return Object(P.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=se.collection("locations");t.limit(1).get().then((function(a){a.forEach((function(a){t.doc(a.id).collection("restaurants").get().then((function(t){var a=[];t.forEach((function(e){var t=e.data();a.push({name:t.name,img:t.imageURL,openingTime:t.hours.substring(2,8),closingTime:t.hours.substring(10,16),cash:!!t.paymentTypes.includes("Efectivo"),card:!!t.paymentTypes.includes("Tarjeta"),paymentTypes:t.paymentTypes,phone:t.phone,id:t.id})})),e.setState({restaurants:a,filteredRestaurants:a,addedItems:e.context.cart.noProducts})})).catch((function(e){console.log("Error getting sub-collection documents",e)}))}))})).catch((function(e){console.log(e)}))}},{key:"handleSearch",value:function(e){var t=e.target.value,a=Object(z.a)(this.state.restaurants);a=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),this.setState({searchInput:t,filteredRestaurants:a})}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,Object(i.a)({},this.props)),Object(x.jsxs)(k.a,{className:"mb-5 mt-3",children:[Object(x.jsxs)(y.a,{className:"justify-content-between",children:[Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsx)("h1",{className:"mb-0",children:"Restaurantes"})}),Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsxs)(v.b,{to:"/carrito",className:"shopping-link",children:[Object(x.jsx)(G,{className:"header-icon mb-0"}),this.state.addedItems>0&&Object(x.jsx)("div",{className:"added-items",children:Object(x.jsx)("p",{className:"text-smallest",children:this.state.addedItems})})]})})]}),Object(x.jsx)(y.a,{className:"mb-4",children:Object(x.jsx)(N.a,{xs:12,md:4,children:Object(x.jsx)(_,{placeholder:"Busca un restaurante",onChange:this.handleSearch.bind(this),value:this.state.searchInput})})}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(J,{restaurants:this.state.filteredRestaurants})})})]})]})}}]),a}(n.Component);ie.contextType=re;var oe=ie,le=a(91),de=a(96),je=function(e){var t=function(e){switch(e.status){case"Entregada":return Object(x.jsx)("div",{className:"delivered-pill",children:Object(x.jsx)("p",{className:"text-smallest m-0",children:"Entregada"})});case"Recibida":return Object(x.jsx)("div",{className:"received-pill",children:Object(x.jsx)("p",{className:"text-smallest m-0",children:"Recibida"})});case"Cancelada":return Object(x.jsx)("div",{className:"cancelled-pill",children:Object(x.jsx)("p",{className:"text-smallest m-0",children:"Cancelada"})})}},a=function(t){return"Recibida"===t.status?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N.a,{children:Object(x.jsx)(T,{label:t.seeProducts?"Esconder productos":"Ver productos",onClick:function(){return e.setSeeProduct(t.id)},block:!0})}),Object(x.jsx)(N.a,{children:Object(x.jsx)(T,{variant:"primary",label:"Cambiar caj\xf3n",onClick:function(){return e.showParkingSpotModal(t)},block:!0})})]}):Object(x.jsx)(N.a,{children:Object(x.jsx)(T,{label:t.seeProducts?"Esconder productos":"Ver productos",onClick:function(){return e.setSeeProduct(t.id)},block:!0})})};return Object(x.jsx)(x.Fragment,{children:e.orders.map((function(e){return Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(de.a,{className:"my-2 order-card",children:Object(x.jsxs)(de.a.Body,{children:[Object(x.jsxs)(y.a,{className:"justify-content-between",children:[Object(x.jsx)(N.a,{className:"vertical-center",children:Object(x.jsx)("p",{className:"text-smallest gray-text",children:e.date})}),Object(x.jsx)(N.a,{xs:"auto",children:t(e)})]}),Object(x.jsxs)(y.a,{className:"justify-content-between mt-2",children:[Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("p",{children:e.restaurantName})}),Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsxs)("p",{className:"non-bold",children:["$",e.total]})})]}),"Cancelada"!==e.status&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[Object(x.jsx)(D,{className:"icon"})," ","Entregada"===e.status?"Entregada":"Entrega estimada: ".concat(e.estimatedDeliveryTime," min.")]})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[Object(x.jsx)(V,{className:"icon"})," ",e.isInParkingSpot?"Caj\xf3n ".concat(e.parkingSpot):"En camino"]})})}),Object(x.jsxs)(y.a,{children:["Efectivo"===e.paymentType&&Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[Object(x.jsx)(F,{className:"icon"})," Efectivo"]})}),"Tarjeta"===e.paymentType&&Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[Object(x.jsx)(U,{className:"icon"})," Tarjeta"]})})]})]}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[Object(x.jsx)($,{className:"icon"})," ",e.products.length," productos"]})})}),e.seeProducts&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),e.products.map((function(e){return Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{children:Object(x.jsxs)("p",{className:"text-smallest gray-text",children:[e.addedOfProduct," - ",e.name]})})},e.id)}))]}),Object(x.jsx)(y.a,{className:"mt-2",children:a(e)})]})})})},e.id)}))})},ue=a(65),be=a.n(ue),he=a(11).db,me=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(b.a)(s,2),l=o[0],d=o[1];return Object(x.jsxs)(Z.a,Object(i.a)(Object(i.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsxs)(Z.a.Body,{children:[Object(x.jsx)("h4",{children:"Cambiar caj\xf3n de estacionamiento"}),Object(x.jsx)(I,{label:"Caj\xf3n",size:"sm",className:"mt-4 mb-3",handleValue:function(e){return c(e)}}),Object(x.jsxs)("label",{className:"checkbox-wrapper",children:["Aplicar para todas las \xf3rdenes en progreso",Object(x.jsx)("input",{type:"checkbox",checked:l,name:"camino",value:"En camino",onChange:function(){return d(!l)}}),Object(x.jsx)("span",{className:"checkmark"})]})]}),Object(x.jsxs)(Z.a.Footer,{children:[Object(x.jsx)(T,{onClick:e.onHide,label:"Cancelar"}),Object(x.jsx)(T,{variant:"primary",onClick:function(){return e.changeParkingSpot(r,e.order,l)},label:"Cambiar",disabled:0===(null===r||void 0===r?void 0:r.length)})]})]}))},xe=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={orders:[],changeParkingSpotModalShow:!1,order:null,addedItems:0,isLoading:!0},n.setSeeProduct=n.setSeeProduct.bind(Object(S.a)(n)),n.showParkingSpotModal=n.showParkingSpotModal.bind(Object(S.a)(n)),n.changeParkingSpot=n.changeParkingSpot.bind(Object(S.a)(n)),n}return Object(P.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.context.currentUser){var t={1:"Recibida",2:"Entregada",3:"Cancelada",4:"Cancelada",5:"Cancelada"},a=[];he.collection("orders").where("userId","==",this.context.currentUser.uid).get().then((function(n){var r;n.forEach((function(e){var n=e.data();a.push({id:n.id,restaurantName:n.storeName,status:t[n.statusId],date:be()(n.creationDate.toDate()).format("DD/MM/YYYY"),total:n.total,estimatedDeliveryTime:n.waitingTime,parkingSpot:n.parkingPlace,isInParkingSpot:!0,paymentType:n.paymentType,seeProducts:!1,products:n.products.map((function(e){return{id:e.id,addedOfProduct:e.cantidad,name:e.nombre}}))})})),he.collection("carts").where("userId","==",e.context.currentUser.uid).get().then((function(t){t.forEach((function(e){(r=e.data()).cartId=e.id})),e.setState({orders:a,addedItems:r.noProducts,isLoading:!1})}))}))}}},{key:"setSeeProduct",value:function(e){for(var t=this.state.orders,a=0;a<t.length;a++)t[a].id===e&&(t[a].seeProducts=!t[a].seeProducts);this.setState({orders:t})}},{key:"showParkingSpotModal",value:function(e){this.setState({changeParkingSpotModalShow:!0,order:e})}},{key:"changeParkingSpot",value:function(){var e=Object(u.a)(j.a.mark((function e(t,a,n){var r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.orders,!n){e.next=9;break}for(c=0;c<r.length;c++)"Recibida"===r[c].status&&r[c].date===a.date&&(r[c].isInParkingSpot=!0,r[c].parkingSpot=t);return e.next=5,he.collection("orders").where("userId","==",this.context.currentUser.uid).get();case 5:e.sent.forEach(function(){var e=Object(u.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=(n=a.data()).statusId){e.next=4;break}return e.next=4,he.collection("orders").doc(n.id).update({parkingPlace:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12;break;case 9:for(s=0;s<r.length;s++)r[s].id===a.id&&(r[s].isInParkingSpot=!0,r[s].parkingSpot=t);return e.next=12,he.collection("orders").doc(a.id).update({parkingPlace:t});case 12:this.setState({orders:r,changeParkingSpotModalShow:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,Object(i.a)({},this.props)),Object(x.jsxs)(k.a,{className:"mb-5 mt-3",children:[Object(x.jsxs)(y.a,{className:"justify-content-between",children:[Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsx)("h1",{className:"mb-0",children:"\xd3rdenes"})}),Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsxs)(v.b,{to:"/carrito",className:"shopping-link",children:[Object(x.jsx)(G,{className:"header-icon mb-0"}),this.state.addedItems>0&&Object(x.jsx)("div",{className:"added-items",children:Object(x.jsx)("p",{className:"text-smallest",children:this.state.addedItems})})]})})]}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsx)(N.a,{xs:12,children:this.state.isLoading?Object(x.jsx)("div",{className:"text-center my-auto",children:Object(x.jsx)(le.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(x.jsx)(je,{orders:this.state.orders,setSeeProduct:this.setSeeProduct,showParkingSpotModal:this.showParkingSpotModal})})})]}),Object(x.jsx)(me,{show:this.state.changeParkingSpotModalShow,onHide:function(){return e.setState({changeParkingSpotModalShow:!1})},order:this.state.order,changeParkingSpot:this.changeParkingSpot})]})}}]),a}(n.Component);xe.contextType=p;var pe=xe,Oe=a(95),fe=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"render",value:function(){return Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(Oe.a,{children:this.props.faq.map((function(e,t){return Object(x.jsxs)(de.a,{className:"my-2 faq-card",children:[Object(x.jsx)(Oe.a.Toggle,{as:de.a.Header,eventKey:"".concat(t),children:Object(x.jsx)("p",{className:"m-0",children:e.question})}),Object(x.jsx)(Oe.a.Collapse,{eventKey:"".concat(t),children:Object(x.jsxs)(de.a.Body,{className:"pt-0",children:[Object(x.jsx)("hr",{className:"mt-0"}),Object(x.jsx)("p",{className:"text-smallest",children:e.answer})]})}),Object(x.jsx)(K,{className:"icon"})]})}))})})})}}]),a}(n.Component),ge=a(11).db,ve=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={faq:[],addedItems:0},n}return Object(P.a)(a,[{key:"componentDidMount",value:function(){var e=this;ge.collection("faq").orderBy("position").get().then((function(t){var a=[];t.forEach((function(e){var t=e.data();a.push({question:t.questions,answer:t.answer})})),e.setState({faq:a,addedItems:e.context.cart.noProducts})}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ne,Object(i.a)({},this.props)),Object(x.jsxs)(k.a,{className:"mb-5 mt-3",children:[Object(x.jsxs)(y.a,{className:"justify-content-between",children:[Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsx)("h1",{className:"mb-0",children:"Ayuda"})}),Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsxs)(v.b,{to:"/carrito",className:"shopping-link",children:[Object(x.jsx)(G,{className:"header-icon mb-0"}),this.state.addedItems>0&&Object(x.jsx)("div",{className:"added-items",children:Object(x.jsx)("p",{className:"text-smallest",children:this.state.addedItems})})]})})]}),Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(fe,{faq:this.state.faq})})})]})]})}}]),a}(n.Component);ve.contextType=re;var ke=ve,ye=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsx)(x.Fragment,{children:Object(z.a)(this.props.products).map((function(t){var a=Object(b.a)(t,2),n=a[0],r=a[1];return Object(x.jsxs)("div",{id:n,className:"mb-5 product-section",children:[Object(x.jsx)("h3",{className:"mb-4",children:n}),r.map((function(t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)(y.a,{children:[Object(x.jsxs)(N.a,{children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{children:t.name})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{className:"text-smaller",children:t.description})})})]}),t.img&&Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("img",{src:t.img,className:"list-img",loading:"lazy"})})]}),Object(x.jsxs)(y.a,{className:"mt-3 justify-content-between",children:[Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsxs)("p",{className:"text-smaller main-text",children:["$",t.price]})}),Object(x.jsx)(N.a,{xs:"auto",className:"ml-auto pr-0",children:Object(x.jsx)(T,{label:"Ver m\xe1s",onClick:function(){return e.props.seeMoreProduct(t)}})}),Object(x.jsx)(N.a,{xs:"auto",children:t.addedOfProduct>0?Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)(T,{label:"-",className:"square-button",onClick:function(){return e.props.removeProduct(t.id,t.category,t.addedOfProduct-1)}}),Object(x.jsx)("p",{className:"mx-3",children:t.addedOfProduct}),Object(x.jsx)(T,{label:"+",className:"square-button",variant:"primary",onClick:function(){return e.props.addProduct(t.id,t.category,t.addedOfProduct+1)}})]}):Object(x.jsx)(T,{label:"\xa1Agregar!",variant:"primary",onClick:function(){return e.props.addProduct(t.id,t.category,t.addedOfProduct+1)}})})]}),Object(x.jsx)("hr",{})]},t.id)}))]},n)}))})}}]),a}(n.Component),Ne=function(e){var t=e.show,a=e.product,r=e.onClose,c=e.addProduct,s=Object(n.useState)(0),i=Object(b.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){l(a.addedOfProduct)}),[a.addedOfProduct]),Object(x.jsxs)("div",{className:"see-more-card ".concat(t?"animating-in":"animating-out"),children:[Object(x.jsx)(k.a,{children:Object(x.jsx)(y.a,{className:"my-4",children:Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",onClick:r,children:Object(x.jsx)(R,{className:"header-icon mb-0"})})})}),a.img&&Object(x.jsx)(y.a,{className:"see-more-product-img",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("img",{src:a.img,loading:"lazy"})})}),Object(x.jsxs)(k.a,{className:"see-more-product-content",children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{children:a.name})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{className:"text-smaller",children:a.description})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("p",{className:"text-smaller main-text",children:["$",a.price]})})}),Object(x.jsx)(y.a,{className:"mb-4",children:Object(x.jsxs)(N.a,{xs:12,children:[Object(x.jsx)(I,{type:"text",label:"Instrucciones de preparaci\xf3n"}),Object(x.jsx)("p",{className:"text-smallest error",children:"*Agregar instrucciones de preparaci\xf3n podr\xeda generar alg\xfan costo extra en el producto, recomendamos contactar al comercio para confirmar el costo total."})]})}),Object(x.jsxs)(y.a,{className:"justify-content-between no-gutters",children:[Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)(T,{label:"-",onClick:function(){return l(o-1)},disabled:0===o}),Object(x.jsx)("p",{className:"mx-3",children:o}),Object(x.jsx)(T,{label:"+",onClick:function(){return l(o+1)}})]})}),Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)(T,{label:"\xa1Agregar! ($".concat(a.price*o,")"),variant:"primary",onClick:function(){return c(a.id,a.category,o)},disabled:0===o})})]})]})]})},we=a(11).db;function Pe(e){return Object(x.jsxs)(Z.a,Object(i.a)(Object(i.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsxs)(Z.a.Body,{children:[Object(x.jsx)("h4",{children:"Eliminar producto"}),Object(x.jsxs)("p",{className:"non-bold",children:["\xbfSeguro que deseas eliminar el producto ",Object(x.jsx)("b",{children:e.product.name})," de ",Object(x.jsx)("b",{children:e.restaurantName}),"?"]})]}),Object(x.jsxs)(Z.a.Footer,{children:[Object(x.jsx)(T,{onClick:e.onHide,label:"Cancelar"}),Object(x.jsx)(T,{variant:"primary",onClick:function(){return e.removeProduct(e.product.id,e.product.category,-1)},label:"Si, eliminiar"})]})]}))}var Se=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).trackScrolling=function(){Object(z.a)(n.state.products).map((function(e){var t=Object(b.a)(e,2),a=t[0],r=(t[1],document.getElementById(a));r&&(r.getBoundingClientRect().top<=165&&n.selectSection(a))}))},n.state={products:[],filteredProducts:[],searchInput:"",menuSections:[],selectedSection:"",addedItems:0,restaurant:[],productToSee:{},seeMore:!1,productToDelete:{},isLoading:!0},n.addProduct=n.addProduct.bind(Object(S.a)(n)),n.removeProduct=n.removeProduct.bind(Object(S.a)(n)),n.selectSection=n.selectSection.bind(Object(S.a)(n)),n.seeMoreProduct=n.seeMoreProduct.bind(Object(S.a)(n)),n}return Object(P.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.routerProps.history.location.state)return this.props.routerProps.history.push("/");var t=this.props.routerProps.history.location.state.detail,a=this.context.cart.restaurantes.find((function(e){return e.restaurantId===t.id}));a&&(a=a.products);var n=we.collection("locations");n.limit(1).get().then((function(r){r.forEach((function(r){var c=n.doc(r.id).collection("restaurants");c.where("id","==",t.id).get().then((function(n){n.forEach((function(n){c.doc(n.id).collection("products").get().then((function(n){var r=new Map,c=[];n.forEach((function(e,t){var n=e.data();if(n.isAvailable){var s=[],i=n.category,o=a?a.find((function(e){return e.id===n.id})):void 0,l={id:n.id,name:n.name,img:n.img?n.img:void 0,description:n.description,price:n.price,addedOfProduct:o?o.cantidad:0,category:n.category,estimatedTime:n.estimated_time};r.has(i)?((s=r.get(i)).push(l),r.set(i,s)):(s.push(l),r.set(i,s)),-1===c.indexOf(n.category)&&c.push(n.category)}})),e.setState({restaurant:t,products:r,filteredProducts:r,menuSections:c,selectedSection:c[0],isLoading:!1,addedItems:e.context.cart.noProducts})}))}))})).catch((function(e){console.log("Error getting sub-collection documents",e)}))}))})).catch((function(e){console.log(e)})),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.trackScrolling)}},{key:"selectSection",value:function(e){this.setState({selectedSection:e})}},{key:"handleSearch",value:function(e){var t=e.target.value,a=Object(z.a)(this.state.products);a=Array.from(a,(function(e){var t=Object(b.a)(e,2);t[0];return t[1]}));for(var n=[],r=0;r<a.length;r++)for(var c=0;c<a[r].length;c++)n.push(a[r][c]);n=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));var s=new Map;for(var i in n){var o=n[i],l=[];s.has(o.category)?((l=s.get(o.category)).push(o),s.set(o.category,l)):(l.push(o),s.set(o.category,l))}this.setState({searchInput:t,filteredProducts:s})}},{key:"addProduct",value:function(e,t,a){for(var n=this.state.products,r=n.get(t),c=0;c<r.length;c++)r[c].id===e&&(r[c].addedOfProduct=a,n.set(t,r),this.context.addProduct(r[c],this.state.restaurant,a,r[c].estimatedTime));this.setState({products:n,seeMore:!1,addedItems:this.context.getTotalItems()})}},{key:"removeProduct",value:function(e,t,a){for(var n=this.state.products,r=n.get(t),c=0;c<r.length;c++)r[c].id===e&&(-1===a?(this.context.decrementProduct(e,this.state.restaurant.name,a,r[c].price),r[c].addedOfProduct=0,n.set(t,r),this.setState({deleteProductModalShow:!1})):1===r[c].addedOfProduct?this.setState({deleteProductModalShow:!0,productToDelete:r[c]}):(this.context.decrementProduct(e,this.state.restaurant.name,a,r[c].price,r[c].estimatedTime),r[c].addedOfProduct=a,n.set(t,r)));this.setState({products:n,addedItems:this.context.getTotalItems()})}},{key:"seeMoreProduct",value:function(e){this.setState({productToSee:e,seeMore:!0})}},{key:"render",value:function(){var e=this,t=this.state.restaurant;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(k.a,{className:"pb-3",children:[Object(x.jsxs)(y.a,{className:"py-4 header",children:[Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsx)(v.b,{to:"/",children:Object(x.jsx)(R,{className:"header-icon mb-0"})})}),Object(x.jsx)(N.a,{children:Object(x.jsx)(_,{placeholder:"Busca un producto",onChange:this.handleSearch.bind(this),value:this.state.searchInput})}),Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",children:Object(x.jsxs)(v.b,{to:"/carrito",className:"shopping-link",children:[Object(x.jsx)(G,{className:"header-icon mb-0"}),this.state.addedItems>0&&Object(x.jsx)("div",{className:"added-items",children:Object(x.jsx)("p",{className:"text-smallest",children:this.state.addedItems})})]})})]}),this.state.isLoading?Object(x.jsx)("div",{className:"text-center my-auto",children:Object(x.jsx)(le.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(y.a,{className:"mb-2",children:[Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("img",{src:t.img,className:"restaurant-img",loading:"lazy"})}),Object(x.jsxs)(N.a,{xs:!0,md:4,children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("h4",{className:"m-0",children:t.name})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("p",{className:"text-smaller",children:[Object(x.jsx)(D,{className:"icon"})," ",t.openingTime," - ",t.closingTime]})})}),t.phone&&Object(x.jsx)(y.a,{className:"mb-2",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("a",{className:"text-smaller restaurant-phone",href:"tel:".concat(t.phone),children:[Object(x.jsx)(H,{className:"icon"})," ",t.phone]})})}),Object(x.jsxs)(y.a,{className:"no-gutters mt-auto",children:[t.cash&&Object(x.jsx)(N.a,{xs:"auto",className:"pr-1",children:Object(x.jsx)("div",{className:"cash-pill",children:Object(x.jsxs)("p",{className:"text-smallest m-0",children:[Object(x.jsx)(F,{className:"icon"})," Efectivo"]})})}),t.card&&Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsx)("div",{className:"card-pill",children:Object(x.jsxs)("p",{className:"text-smallest m-0",children:[Object(x.jsx)(U,{className:"icon"})," Tarjeta"]})})})]})]})]}),Object(x.jsx)(y.a,{className:"restaurant-sections pb-4 pt-2",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("ul",{className:"menu-sections-list",children:this.state.menuSections.map((function(t,a){return Object(x.jsx)("li",{className:"menu-sections-item ".concat(e.state.selectedSection===t&&"active"),onClick:function(){return e.setState({selectedSection:t})},children:Object(x.jsx)("a",{href:"#".concat(t),children:t})},a)}))})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(ye,{products:this.state.filteredProducts,addProduct:this.addProduct,removeProduct:this.removeProduct,selectSection:this.selectSection,refArray:this.state.refArray,seeMoreProduct:this.seeMoreProduct})})})]}),Object(x.jsx)(Ne,{show:this.state.seeMore,product:this.state.productToSee,addProduct:this.addProduct,onClose:function(){return e.setState({seeMore:!1})}})]}),Object(x.jsx)(Pe,{show:this.state.deleteProductModalShow,onHide:function(){return e.setState({deleteProductModalShow:!1})},restaurantName:t.name,product:this.state.productToDelete,removeProduct:this.removeProduct})]})}}]),a}(n.Component);Se.contextType=re;var Le=Se,Ce=a(66),Me=(a(11).db,function(e){return Object(x.jsxs)(Z.a,Object(i.a)(Object(i.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsxs)(Z.a.Body,{children:[Object(x.jsx)("h4",{children:"Eliminar producto"}),Object(x.jsxs)("p",{className:"non-bold",children:["\xbfSeguro que deseas eliminar el producto ",Object(x.jsx)("b",{children:e.product.name})," de ",Object(x.jsx)("b",{children:e.restaurantName}),"?"]})]}),Object(x.jsxs)(Z.a.Footer,{children:[Object(x.jsx)(T,{onClick:e.onHide,label:"Cancelar"}),Object(x.jsx)(T,{variant:"primary",onClick:function(){return e.removeProduct(e.product.id,e.restaurantName,-1)},label:"Si, eliminiar"})]})]}))}),Ie=function(e){var t=Object(Ce.a)(),a=Object(l.g)(),r=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useRef)(),i=Object(n.useState)(null),o=Object(b.a)(i,2),d=o[0],h=o[1],m=Object(n.useState)(null),p=Object(b.a)(m,2),O=p[0],f=p[1],g=Object(n.useState)(0),v=Object(b.a)(g,2),w=v[0],P=v[1],S=Object(n.useState)(new Map),L=Object(b.a)(S,2),C=L[0],M=L[1],E=Object(n.useState)(!1),W=Object(b.a)(E,2),A=W[0],U=W[1],V=Object(n.useState)(null),F=Object(b.a)(V,2),q=F[0],H=F[1],X=Object(n.useState)({}),$=Object(b.a)(X,2),G=$[0],K=$[1],Y=Object(n.useState)(),J=Object(b.a)(Y,2),Q=(J[0],J[1]),_=Object(n.useState)(!0),Z=Object(b.a)(_,2),ee=Z[0],te=Z[1],ae=Object(n.useContext)(re),ne=ae.cart,ce=(ae.getCart,ae.incrementProduct),se=ae.decrementProduct,ie=ae.createOrder;Object(n.useEffect)(Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!0),Q(ne.id),ne.restaurantes.forEach((function(e){var t=[];e.total=0;var a=e.total;e.products.forEach((function(e){t.push({id:e.id,name:e.nombre,addedOfProduct:e.cantidad,total:e.costoTotal,unitaryPrice:e.costoUnitario,tiempoEntregaUnitario:e.tiempoEntregaUnitario}),a+=e.costoTotal})),C.set(e.restaurantName,{total:a,products:t})})),M(new Map(C)),P(C.size),te(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var oe=function(){var e=Object(u.a)(j.a.mark((function e(t,a,n){var r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new Map(C),(c=r.get(a)).total=0,s=0;s<c.products.length;s++)c.products[s].id===t&&(c.products[s].addedOfProduct=n,c.products[s].total=c.products[s].unitaryPrice*n,ce(t,a,n,c.products[s].unitaryPrice,c.products[s].tiempoEntregaUnitario)),c.total+=Number(c.products[s].total);M(r.set(a,c));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(j.a.mark((function e(t,a,n){var r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new Map(C),(c=r.get(a)).total=0,s=0;s<c.products.length;s++)c.products[s].id===t&&(-1===n?(se(t,a,n,c.products[s].unitaryPrice,c.products[s].tiempoEntregaUnitario),c.products.splice(s,1),U(!1)):1===c.products[s].addedOfProduct?(U(!0),K(c.products[s]),H(a)):(c.products[s].addedOfProduct=n,c.products[s].total=c.products[s].unitaryPrice*n,se(t,a,n,c.products[s].unitaryPrice,c.products[s].tiempoEntregaUnitario))),c.products.length>0&&(c.total+=Number(c.products[s].total));c.products.length>0?M(r.set(a,c)):(r.delete(a),M(r));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(d,r,s,c,O);case 2:a.push("/ordenes");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(k.a,{className:"mb-5 mt-3",children:[Object(x.jsxs)(y.a,{children:[Object(x.jsx)(N.a,{xs:"auto",className:"vertical-center",onClick:function(){return a.goBack()},children:Object(x.jsx)(R,{className:"header-icon mb-0"})}),Object(x.jsx)(N.a,{className:"vertical-center",children:Object(x.jsx)("h1",{className:"mb-0",children:"Carrito"})})]}),ee?Object(x.jsx)("div",{className:"text-center my-auto",children:Object(x.jsx)(le.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):w>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("h2",{children:"Productos"})})}),Object(z.a)(C).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(y.a,{className:"justify-content-between",children:[Object(x.jsx)(N.a,{xs:8,children:Object(x.jsx)("h5",{className:"my-2",children:a})}),Object(x.jsx)(N.a,{xs:4,className:"text-right",children:Object(x.jsxs)("h5",{className:"my-2 non-bold",children:["$",n.total]})})]},a),Object(x.jsx)(x.Fragment,{children:n.products.map((function(e){return Object(x.jsxs)(y.a,{className:"my-2",children:[Object(x.jsxs)(N.a,{children:[Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("p",{className:"non-bold product-name",children:e.name})})}),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("p",{className:"non-bold gray-text",children:["$",e.total," ",e.addedOfProduct>1&&"($".concat(e.unitaryPrice," c/u)")]})})})]}),Object(x.jsx)(N.a,{xs:"auto",children:Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)(T,{label:"-",className:"square-button",onClick:function(){return de(e.id,a,e.addedOfProduct-1)}}),Object(x.jsx)("p",{className:"mx-3",children:e.addedOfProduct}),Object(x.jsx)(T,{label:"+",className:"square-button",variant:"primary",onClick:function(){return oe(e.id,a,e.addedOfProduct+1)}})]})})]},e.name)}))}),Object(x.jsx)("hr",{})]})})),Object(x.jsx)(y.a,{children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)("h2",{children:"Detalles de la orden"})})}),Object(x.jsx)(y.a,{className:"mt-2",children:Object(x.jsxs)(N.a,{xs:12,children:[Object(x.jsx)("h6",{className:"text-smaller main-text bold",children:"Datos de contacto"}),Object(x.jsx)(I,{label:"Nombre",className:"my-3",ref:c}),Object(x.jsx)(I,{label:"Tel\xe9fono",size:"sm",ref:s})]})}),Object(x.jsx)(y.a,{className:"mt-2",children:Object(x.jsxs)(N.a,{xs:12,children:[Object(x.jsx)("h6",{className:"text-smaller main-text bold",children:"Ubicaci\xf3n"}),Object(x.jsxs)("label",{className:"radio-wrapper",children:["Voy en camino",Object(x.jsx)("input",{type:"radio",checked:"En camino"===d,name:"camino",value:"En camino",onChange:function(){return h("En camino")}}),Object(x.jsx)("span",{className:"checkmark"})]}),Object(x.jsxs)("label",{className:"radio-wrapper",children:["Estoy en un caj\xf3n de estacionamiento",Object(x.jsx)("input",{type:"radio",checked:"En caj\xf3n"===d,name:"cajon",value:"En caj\xf3n",onChange:function(){return h("En caj\xf3n")}}),Object(x.jsx)("span",{className:"checkmark"})]}),"En caj\xf3n"===d&&Object(x.jsx)(I,{label:"Caj\xf3n",size:"xs",className:"mt-4 mb-3",ref:r})]})}),Object(x.jsx)(y.a,{className:"mt-2",children:Object(x.jsxs)(N.a,{xs:12,children:[Object(x.jsx)("h6",{className:"text-smaller main-text bold",children:"Tipo de pago"}),Object(x.jsxs)("label",{className:"radio-wrapper",children:["Efectivo",Object(x.jsx)("input",{type:"radio",checked:"Efectivo"===O,name:"efectivo",value:"Efectivo",onChange:function(){return f("Efectivo")}}),Object(x.jsx)("span",{className:"checkmark"})]}),Object(x.jsxs)("label",{className:"radio-wrapper",children:["Tarjeta",Object(x.jsx)("input",{type:"radio",checked:"Tarjeta"===O,name:"tarjeta",value:"Tarjeta",onChange:function(){return f("Tarjeta")}}),Object(x.jsx)("span",{className:"checkmark"})]})]})}),Object(x.jsx)(y.a,{className:"mt-2",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsxs)("p",{className:"text-smaller text-center",children:[Object(x.jsx)(D,{className:"icon"})," Tiempo de entrega estimado: ",ne.waitingTime," min."]})})}),Object(x.jsx)(y.a,{className:"mt-4",children:Object(x.jsx)(N.a,{xs:12,children:Object(x.jsx)(T,{variant:"primary",label:"Confirmar orden ($".concat(ne.total.toFixed(2),")"),disabled:!d||!O||!c.current.value.length>0||!s.current.value.length>0||"En caj\xf3n"===d&&!r.current||!O||!c.current.value.length>0||!s.current.value.length>0||("En caj\xf3n"===d&&r.current.value.length>0&&O&&c.current.value.length>0&&s.current.value.length,!1),onClick:je,block:!0})})})]}):Object(x.jsx)("div",{style:{height:"calc(".concat(t,"px - 37px - 4rem")},className:"vertical-center text-center",children:Object(x.jsx)(y.a,{className:"justify-content-center",children:Object(x.jsxs)(N.a,{xs:6,children:[Object(x.jsx)(B,{className:"empty-space-icon"}),Object(x.jsx)("p",{className:"non-bold mb-4 mt-2",children:"\xa1Oh no! Parece que aun no tienes productos."}),Object(x.jsx)(T,{variant:"primary",label:"\xa1Ver restaurantes!",onClick:function(){return a.push("/")}})]})})})]}),Object(x.jsx)(Me,{show:A,onHide:function(){return U(!1)},restaurantName:q,product:G,removeProduct:de})]})};var Te=function(){return Object(x.jsx)(v.a,{children:Object(x.jsx)(f,{children:Object(x.jsx)(ce,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(g,{exact:!0,path:"/",component:oe}),Object(x.jsx)(l.b,{path:"/signup",component:W}),Object(x.jsx)(l.b,{path:"/login",component:A}),Object(x.jsx)(g,{path:"/ordenes",component:pe}),Object(x.jsx)(g,{path:"/ayuda",component:ke}),Object(x.jsx)(g,{path:"/carrito",component:Ie}),Object(x.jsx)(l.b,{path:"/restaurant/:name",render:function(e){return Object(x.jsx)(Le,{routerProps:e})}})]})})})})},Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Te,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ee?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):We(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):We(t,e)}))}}(),Ae()}},[[85,1,2]]]);
//# sourceMappingURL=main.314a70a4.chunk.js.map